<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Login - HR System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        (function () {
            const getStoredTheme = () => localStorage.getItem('theme');
            const applyTheme = (theme) => {
                const themeToApply = theme || 'dark';
                document.documentElement.setAttribute('data-bs-theme', themeToApply);
            };

            applyTheme(getStoredTheme());
        })();
    </script>

</head>

<body class="d-flex justify-content-center align-items-center vh-100 bg-body-tertiary">

    <main class="form-signin w-100 m-auto" style="max-width: 330px;">
        <form id="loginForm">
            <h1 class="h3 mb-3 fw-normal text-center">HR System Login</h1>
            <div class="form-floating mb-2">
                <input type="email" class="form-control" id="email" placeholder="name@example.com" required
                    value="employee@demo.com">
                <label for="email">Email address</label>
            </div>
            <div class="form-floating mb-3">
                <input type="password" class="form-control" id="password" placeholder="Password" required value="123">
                <label for="password">Password</label>
            </div>
            <button class="btn btn-primary w-100 py-2" type="submit">Sign in</button>
            <p class="mt-5 mb-3 text-body-secondary text-center">&copy; 2025</p>
        </form>
    </main>

    <script src="js/mock-data.js"></script>
    <script>
        document.getElementById('loginForm').addEventListener('submit', e => {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const user = employees.find(u => u.email === email && u.password === document.getElementById('password').value);

            if (!user) {
                alert('Invalid credentials');
                return;
            }

            localStorage.setItem('currentUser', JSON.stringify(user));

            const routes = {
                Employee: 'employee.html',
                Manager: 'manager.html',
                Security: 'security.html',
                HR: 'hr.html'
            };
            window.location.href = routes[user.role] || 'index.html';
        });
    </script>
</body>

</html>